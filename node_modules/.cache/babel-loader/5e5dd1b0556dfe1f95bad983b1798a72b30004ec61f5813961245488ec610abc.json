{"ast":null,"code":"import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nimport _imports_0 from '@/assets/images/profileimg.png';\nconst _hoisted_1 = {\n  class: \"mt-4 flex relative mr-[130px]\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"absolute top-0\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"mt-2 ml-3 mt-3\",\n  width: \"17px\",\n  height: \"17px\",\n  viewBox: \"0 0 24 24\",\n  xmlns: \"http://www.w3.org/2000/svg\",\n  fill: \"gray\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  d: \"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1 8.05-9.12A8.251 8.251 0 1 0 15.25.01V0zm0 15a6.75 6.75 0 1 1 0-13.5 6.75 6.75 0 0 1 0 13.5z\"\n})])], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"z-40 absolute mt-12 ml-2 rounded bg-[#9B3922] w-60\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"mt-3\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"ml-3\"\n};\nconst _hoisted_7 = {\n  class: \"px-3 v-else\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"profile-img\",\n  class: \"h-10 rounded-full ml-5\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"input\", {\n    ref: \"searchBox\",\n    type: \"text\",\n    class: \"rounded-full bg-[#9B3922] px-9 w-60 h-10 mr-5 focus:outline-none\",\n    placeholder: \"Search\",\n    onInput: _cache[0] || (_cache[0] = (...args) => $options.debounceSearch && $options.debounceSearch(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [$data.showSearchResult ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchResult, (movie, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index,\n      class: \"flex items-center border-b border-[#481E14] p-1\"\n    }, [_createElementVNode(\"img\", {\n      src: $options.posterPath(movie.poster_path),\n      alt: \"\",\n      class: \"w-20 p-1\"\n    }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(movie.title), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), _createElementVNode(\"ul\", _hoisted_7, [_ctx.noResultFound ? (_openBlock(), _createElementBlock(\"li\", _hoisted_8, \"No result found\")) : _createCommentVNode(\"v-if\", true)])]), _hoisted_9]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","width","height","viewBox","xmlns","fill","d","key","src","alt","_createElementBlock","_hoisted_1","ref","type","placeholder","onInput","_cache","args","$options","debounceSearch","_hoisted_2","_hoisted_3","$data","showSearchResult","_hoisted_4","_Fragment","_renderList","searchResult","movie","index","posterPath","poster_path","_hoisted_5","_hoisted_6","_toDisplayString","title","_createCommentVNode","_hoisted_7","_ctx","noResultFound","_hoisted_8","_hoisted_9"],"sources":["C:\\Users\\amerb\\movie-tmbd\\src\\components\\header\\SearchBar.vue"],"sourcesContent":["<template>\r\n  <div class=\"mt-4 flex relative mr-[130px] \">\r\n    <input \r\n    ref=\"searchBox\"\r\n    type=\"text\" \r\n    class=\"rounded-full bg-[#9B3922] px-9 w-60 h-10 mr-5 focus:outline-none\" \r\n    placeholder=\"Search\"\r\n    @input=\"debounceSearch\"\r\n    />\r\n\r\n    <div class=\"absolute top-0\">\r\n      <svg class=\"mt-2 ml-3 mt-3\"\r\n      width=\"17px\" height=\"17px\" viewBox=\"0 0 24 24\" \r\n      xmlns=\"http://www.w3.org/2000/svg\" fill=\"gray\">\r\n      <path d=\"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1 8.05-9.12A8.251 8.251 0 1 0 15.25.01V0zm0 15a6.75 6.75 0 1 1 0-13.5 6.75 6.75 0 0 1 0 13.5z\"/></svg>\r\n    </div>\r\n\r\n    <div  class=\"z-40 absolute mt-12 ml-2 rounded bg-[#9B3922] w-60\">\r\n      <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n        <li :key=\"index\"  v-for=\"(movie,index) in searchResult\" class=\"flex items-center border-b border-[#481E14] p-1\">\r\n          <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-20 p-1\">\r\n          <span class=\"ml-3\">{{movie.title}}</span>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"px-3 v-else\">\r\n       <li v-if=\"noResultFound\">No result found</li>\r\n      </ul>\r\n    </div>\r\n    \r\n\r\n    <img src=\"@/assets/images/profileimg.png\" alt=\"profile-img\" class=\"h-10 rounded-full ml-5\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n data() {\r\n  return {\r\n    searchResult: [],\r\n    showSearchResult: false\r\n  }\r\n },\r\n\r\n mounted(){\r\n  this.keyboardEvents()\r\n },\r\n\r\n  methods: {\r\n\r\n    keyboardEvents(){\r\n      let windowObj = this\r\n\r\n      window.addEventListener(\"keypress\", (e)=>{\r\n        if(e.keyCode == \"47\"){\r\n          e.preventDefault();\r\n          windowObj.$refs.searchBox.focus()\r\n        }\r\n      })\r\n      window.addEventListener('keydown', (e) => {\r\n        if (e.key == \"Escape\" ) {\r\n          this.showSearchResult = false\r\n        }\r\n      })\r\n    },\r\n\r\n    debounceSearch(event) {\r\n     clearTimeout(this.debounce)\r\n     this.debounce = setTimeout(() => {\r\n       if (event.target.value.length >= 2){\r\n        this.fetchSearch(event.target.value)\r\n      }\r\n       }, 100)\r\n      },\r\n\r\n    async fetchSearch(term){\r\n      try{\r\n      const response = await this.$http.get(\"/search/movie?query=\" + term)\r\n      this.searchResult = response.data.results \r\n      this.showSearchResult = (response.data.results)? true: false \r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n  },\r\n\r\n  posterPath(poster_path) {\r\n    if(poster_path) {\r\n      return `https://image.tmdb.org/t/p/w500` + poster_path\r\n    } else {\r\n      return `https://via.placeholder.com/500x750`\r\n    }\r\n  },\r\n\r\n }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>./searchbar.vue./SearchBar.vue"],"mappings":";OA8BSA,UAAoC;;EA7BtCC,KAAK,EAAC;AAAgC;gCASzCC,mBAAA,CAKM;EALDD,KAAK,EAAC;AAAgB,I,aACzBC,mBAAA,CAGgK;EAH3JD,KAAK,EAAC,gBAAgB;EAC3BE,KAAK,EAAC,MAAM;EAACC,MAAM,EAAC,MAAM;EAACC,OAAO,EAAC,WAAW;EAC9CC,KAAK,EAAC,4BAA4B;EAACC,IAAI,EAAC;iBACxCL,mBAAA,CAA0J;EAApJM,CAAC,EAAC;AAAgJ,G;;EAGpJP,KAAK,EAAC;AAAoD;;EAjBpEQ,GAAA;EAkBUR,KAAK,EAAC;;mBAlBhB;;EAqBgBA,KAAK,EAAC;AAAM;;EAGlBA,KAAK,EAAC;AAAa;;EAxB7BQ,GAAA;AAAA;gCA8BIP,mBAAA,CAA6F;EAAxFQ,GAAoC,EAApCV,UAAoC;EAACW,GAAG,EAAC,aAAa;EAACV,KAAK,EAAC;;;uBA7BpEW,mBAAA,CA8BM,OA9BNC,UA8BM,GA7BJX,mBAAA,CAME;IALFY,GAAG,EAAC,WAAW;IACfC,IAAI,EAAC,MAAM;IACXd,KAAK,EAAC,kEAAkE;IACxEe,WAAW,EAAC,QAAQ;IACnBC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;kDAGtBG,UAKM,EAENpB,mBAAA,CAUM,OAVNqB,UAUM,GATmBC,KAAA,CAAAC,gBAAgB,I,cAAvCb,mBAAA,CAKK,MALLc,UAKK,I,kBAJHd,mBAAA,CAGKe,SAAA,QAtBbC,WAAA,CAmBkDJ,KAAA,CAAAK,YAAY,EAnB9D,CAmBkCC,KAAK,EAACC,KAAK;yBAArCnB,mBAAA,CAGK;MAHAH,GAAG,EAAEsB,KAAK;MAAyC9B,KAAK,EAAC;QAC5DC,mBAAA,CAAkE;MAA5DQ,GAAG,EAAEU,QAAA,CAAAY,UAAU,CAACF,KAAK,CAACG,WAAW;MAAGtB,GAAG,EAAC,EAAE;MAACV,KAAK,EAAC;4BApBjEiC,UAAA,GAqBUhC,mBAAA,CAAyC,QAAzCiC,UAAyC,EAAAC,gBAAA,CAApBN,KAAK,CAACO,KAAK,iB;sCArB1CC,mBAAA,gBAwBMpC,mBAAA,CAEK,MAFLqC,UAEK,GADMC,IAAA,CAAAC,aAAa,I,cAAvB7B,mBAAA,CAA6C,MAzBpD8B,UAAA,EAyBgC,iBAAe,KAzB/CJ,mBAAA,e,KA8BIK,UAA6F,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}