{"ast":null,"code":"import { vModelText as _vModelText, createElementVNode as _createElementVNode, withDirectives as _withDirectives, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode } from \"vue\";\nimport _imports_0 from '@/assets/images/avatar.jpg';\nconst _hoisted_1 = {\n  class: \"mt-5 flex relative\"\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"absolute top-0\"\n}, [/*#__PURE__*/_createElementVNode(\"svg\", {\n  class: \"fill-current w-4 text-gray-300 mt-2 ml-2 mt-3\",\n  viewBox: \"0 0 24 24\"\n}, [/*#__PURE__*/_createElementVNode(\"path\", {\n  class: \"heroicon-ui\",\n  d: \"M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z\"\n})])], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"absolute mt-12 rounded bg-gray-600 w-60 z-50\"\n};\nconst _hoisted_4 = {\n  key: 0,\n  class: \"mt-3\"\n};\nconst _hoisted_5 = [\"src\"];\nconst _hoisted_6 = {\n  class: \"ml-3\"\n};\nconst _hoisted_7 = {\n  key: 1,\n  class: \"px-3\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"img\", {\n  src: _imports_0,\n  alt: \"\",\n  class: \"h-10 rounded-full\"\n}, null, -1 /* HOISTED */);\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_withDirectives(_createElementVNode(\"input\", {\n    ref: \"searchBox\",\n    type: \"text\",\n    class: \"rounded-full bg-gray-600 px-7 w-50 h-10 mr-3 focus:outline-none focus:outline-shawod\",\n    placeholder: \"Search..\",\n    onInput: _cache[0] || (_cache[0] = (...args) => $options.debounceSearch && $options.debounceSearch(...args)),\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.searchTerm = $event),\n    onFocus: _cache[2] || (_cache[2] = (...args) => $options.handleFocus && $options.handleFocus(...args))\n  }, null, 544 /* NEED_HYDRATION, NEED_PATCH */), [[_vModelText, $data.searchTerm]]), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [$data.showSearchResult ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_4, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.searchResult, (movie, index) => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: index\n    }, [_createVNode(_component_router_link, {\n      to: `/movie/${movie.id}`,\n      onClick: _cache[3] || (_cache[3] = $event => $data.showSearchResult = false),\n      class: \"flex items-center border-b border-gray-500 p-1\"\n    }, {\n      default: _withCtx(() => [_createElementVNode(\"img\", {\n        src: $options.posterPath(movie.poster_path),\n        alt: \"\",\n        class: \"w-10\"\n      }, null, 8 /* PROPS */, _hoisted_5), _createElementVNode(\"span\", _hoisted_6, _toDisplayString(movie.title), 1 /* TEXT */)]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"to\"])]);\n  }), 128 /* KEYED_FRAGMENT */))])) : _createCommentVNode(\"v-if\", true), $data.searchResult.length == 0 && $data.showSearchResult ? (_openBlock(), _createElementBlock(\"ul\", _hoisted_7, [_createElementVNode(\"li\", null, \"No result found for \\\"\" + _toDisplayString($data.searchTerm) + \"\\\"\", 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]), _hoisted_8]);\n}","map":{"version":3,"names":["_imports_0","class","_createElementVNode","viewBox","d","key","src","alt","_createElementBlock","_hoisted_1","ref","type","placeholder","onInput","_cache","args","$options","debounceSearch","$event","$data","searchTerm","onFocus","handleFocus","_hoisted_2","_hoisted_3","showSearchResult","_hoisted_4","_Fragment","_renderList","searchResult","movie","index","_createVNode","_component_router_link","to","id","onClick","default","_withCtx","posterPath","poster_path","_hoisted_5","_hoisted_6","_toDisplayString","title","_","_createCommentVNode","length","_hoisted_7","_hoisted_8"],"sources":["C:\\Users\\amerb\\movie-tmbd\\src\\components\\header\\AccountDropdown.vue"],"sourcesContent":["<template>\r\n    <div class=\"mt-5 flex relative\">\r\n      <input\r\n        ref=\"searchBox\"\r\n        type=\"text\"\r\n        class=\"rounded-full bg-gray-600 px-7 w-50 h-10 mr-3 focus:outline-none focus:outline-shawod\"\r\n        placeholder=\"Search..\"\r\n        @input=\"debounceSearch\"\r\n        v-model=\"searchTerm\"\r\n        @focus=\"handleFocus\"\r\n      />\r\n      <div class=\"absolute top-0\">\r\n        <svg\r\n          class=\"fill-current w-4 text-gray-300 mt-2 ml-2 mt-3\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            class=\"heroicon-ui\"\r\n            d=\"M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n  \r\n      <div class=\"absolute mt-12 rounded bg-gray-600 w-60 z-50\">\r\n        <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n          <li :key=\"index\" v-for=\"(movie, index) in searchResult\">\r\n            <router-link\r\n              :to=\"`/movie/${movie.id}`\"\r\n              @click.native=\"showSearchResult = false\"\r\n              class=\"flex items-center border-b border-gray-500 p-1\"\r\n            >\r\n              <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-10\" />\r\n              <span class=\"ml-3\">{{ movie.title }}</span>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        <ul class=\"px-3\" v-if=\"searchResult.length == 0 && showSearchResult\">\r\n          <li>No result found for \"{{ searchTerm }}\"</li>\r\n        </ul>\r\n      </div>\r\n  \r\n      <img src=\"@/assets/images/avatar.jpg\" alt=\"\" class=\"h-10 rounded-full\" />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        searchResult: [],\r\n        searchTerm: \"\",\r\n        showSearchResult: false,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.keyboardEvents();\r\n    },\r\n    methods: {\r\n      debounceSearch(event) {\r\n        clearTimeout(this.debounce);\r\n        this.debounce = setTimeout(() => {\r\n          if (event.target.value.length > 3) {\r\n            this.fetchSearch(event.target.value);\r\n          } else {\r\n            this.showSearchResult = false;\r\n          }\r\n        }, 600);\r\n      },\r\n  \r\n      async fetchSearch(term) {\r\n        try {\r\n          const response = await this.$http.get(\"/search/movie?query=\" + term);\r\n          this.searchResult = response.data.results;\r\n          this.showSearchResult = response.data.results ? true : false;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n  \r\n      handleFocus() {\r\n        if (this.searchTerm != \"\") {\r\n          this.showSearchResult = true;\r\n        }\r\n      },\r\n      keyboardEvents() {\r\n        let windowObj = this;\r\n  \r\n        window.addEventListener(\"click\", (e) => {\r\n          if (!this.$el.contains(e.target)) {\r\n            this.showSearchResult = false;\r\n          }\r\n        });\r\n  \r\n        window.addEventListener(\"keypress\", (e) => {\r\n          if (e.keyCode == \"47\") {\r\n            e.preventDefault();\r\n            windowObj.$refs.searchBox.focus();\r\n          }\r\n        });\r\n        window.addEventListener(\"keydown\", (e) => {\r\n          if (e.key == \"Escape\") {\r\n            this.showSearchResult = false;\r\n          }\r\n        });\r\n      },\r\n      posterPath(poster_path) {\r\n        if (poster_path) {\r\n          return \"https://image.tmdb.org/t/p/w500/\" + poster_path;\r\n        } else {\r\n          return \"https://via.placeholder.com/50x75\";\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style></style>"],"mappings":";OAyCWA,UAAgC;;EAxClCC,KAAK,EAAC;AAAoB;gCAU7BC,mBAAA,CAUM;EAVDD,KAAK,EAAC;AAAgB,I,aACzBC,mBAAA,CAQM;EAPJD,KAAK,EAAC,+CAA+C;EACrDE,OAAO,EAAC;iBAERD,mBAAA,CAGE;EAFAD,KAAK,EAAC,aAAa;EACnBG,CAAC,EAAC;;;EAKHH,KAAK,EAAC;AAA8C;;EAvB/DI,GAAA;EAwBYJ,KAAK,EAAC;;mBAxBlB;;EAgCoBA,KAAK,EAAC;AAAM;;EAhChCI,GAAA;EAoCYJ,KAAK,EAAC;;gCAKZC,mBAAA,CAAyE;EAApEI,GAAgC,EAAhCN,UAAgC;EAACO,GAAG,EAAC,EAAE;EAACN,KAAK,EAAC;;;;uBAxCrDO,mBAAA,CAyCM,OAzCNC,UAyCM,G,gBAxCJP,mBAAA,CAQE;IAPAQ,GAAG,EAAC,WAAW;IACfC,IAAI,EAAC,MAAM;IACXV,KAAK,EAAC,sFAAsF;IAC5FW,WAAW,EAAC,UAAU;IACrBC,OAAK,EAAAC,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAC,cAAA,IAAAD,QAAA,CAAAC,cAAA,IAAAF,IAAA,CAAc;IAP9B,uBAAAD,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAQiBC,KAAA,CAAAC,UAAU,GAAAF,MAAA;IAClBG,OAAK,EAAAP,MAAA,QAAAA,MAAA,UAAAC,IAAA,KAAEC,QAAA,CAAAM,WAAA,IAAAN,QAAA,CAAAM,WAAA,IAAAP,IAAA,CAAW;iEADVI,KAAA,CAAAC,UAAU,E,GAGrBG,UAUM,EAENrB,mBAAA,CAgBM,OAhBNsB,UAgBM,GAfmBL,KAAA,CAAAM,gBAAgB,I,cAAvCjB,mBAAA,CAWK,MAXLkB,UAWK,I,kBAVHlB,mBAAA,CASKmB,SAAA,QAlCfC,WAAA,CAyBoDT,KAAA,CAAAU,YAAY,EAzBhE,CAyBmCC,KAAK,EAAEC,KAAK;yBAArCvB,mBAAA,CASK;MATAH,GAAG,EAAE0B;IAAK,IACbC,YAAA,CAOcC,sBAAA;MANXC,EAAE,YAAYJ,KAAK,CAACK,EAAE;MACtBC,OAAK,EAAAtB,MAAA,QAAAA,MAAA,MAAAI,MAAA,IAASC,KAAA,CAAAM,gBAAgB;MAC/BxB,KAAK,EAAC;;MA7BpBoC,OAAA,EAAAC,QAAA,CA+Bc,MAAgE,CAAhEpC,mBAAA,CAAgE;QAA1DI,GAAG,EAAEU,QAAA,CAAAuB,UAAU,CAACT,KAAK,CAACU,WAAW;QAAGjC,GAAG,EAAC,EAAE;QAACN,KAAK,EAAC;8BA/BrEwC,UAAA,GAgCcvC,mBAAA,CAA2C,QAA3CwC,UAA2C,EAAAC,gBAAA,CAArBb,KAAK,CAACc,KAAK,iB;MAhC/CC,CAAA;;sCAAAC,mBAAA,gBAoC+B3B,KAAA,CAAAU,YAAY,CAACkB,MAAM,SAAS5B,KAAA,CAAAM,gBAAgB,I,cAAnEjB,mBAAA,CAEK,MAFLwC,UAEK,GADH9C,mBAAA,CAA+C,YAA3C,wBAAqB,GAAAyC,gBAAA,CAAGxB,KAAA,CAAAC,UAAU,IAAG,IAAC,gB,KArCpD0B,mBAAA,e,GAyCMG,UAAyE,C","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}