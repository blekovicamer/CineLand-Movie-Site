{"ast":null,"code":"export default {\n  data() {\n    return {\n      searchResult: [],\n      showSearchResult: false\n    };\n  },\n  mounted() {\n    this.keyboardEvents();\n  },\n  methods: {\n    handleFocus() {\n      if (this.searchTerm != \"\") {\n        this.showSearchResult = true;\n      }\n    },\n    keyboardEvents() {\n      let windowObj = this;\n      window.addEventListener(\"keypress\", e => {\n        if (e.keyCode == \"47\") {\n          e.preventDefault();\n          windowObj.$refs.searchBox.focus();\n        }\n      });\n      window.addEventListener('keydown', e => {\n        if (e.key == \"Escape\") {\n          this.showSearchResult = false;\n        }\n      });\n    },\n    debounceSearch(event) {\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        if (event.target.value.length >= 2) {\n          this.fetchSearch(event.target.value);\n        }\n      }, 100);\n    },\n    async fetchSearch(term) {\n      try {\n        const response = await this.$http.get(\"/search/movie?query=\" + term);\n        this.searchResult = response.data.results;\n        this.showSearchResult = response.data.results ? true : false;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    posterPath(poster_path) {\n      if (poster_path) {\n        return `https://image.tmdb.org/t/p/w500` + poster_path;\n      } else {\n        return `https://via.placeholder.com/500x750`;\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","searchResult","showSearchResult","mounted","keyboardEvents","methods","handleFocus","searchTerm","windowObj","window","addEventListener","e","keyCode","preventDefault","$refs","searchBox","focus","key","debounceSearch","event","clearTimeout","debounce","setTimeout","target","value","length","fetchSearch","term","response","$http","get","results","error","console","log","posterPath","poster_path"],"sources":["C:\\Users\\amerb\\movie-tmbd\\src\\components\\header\\SearchBar.vue"],"sourcesContent":["<template>\r\n  <div class=\"mt-4 flex relative mr-[130px] \">\r\n    <input \r\n    ref=\"searchBox\"\r\n    type=\"text\" \r\n    class=\"rounded-full bg-[#9B3922] px-9 w-60 h-10 mr-5 focus:outline-none\" \r\n    placeholder=\"Search\"\r\n    @input=\"debounceSearch\"\r\n    @focus=\"handleFocus\"\r\n    />\r\n\r\n    <div class=\"absolute top-0\">\r\n      <svg class=\"mt-2 ml-3 mt-3\"\r\n      width=\"17px\" height=\"17px\" viewBox=\"0 0 24 24\" \r\n      xmlns=\"http://www.w3.org/2000/svg\" fill=\"gray\">\r\n      <path d=\"M15.25 0a8.25 8.25 0 0 0-6.18 13.72L1 22.88l1.12 1 8.05-9.12A8.251 8.251 0 1 0 15.25.01V0zm0 15a6.75 6.75 0 1 1 0-13.5 6.75 6.75 0 0 1 0 13.5z\"/></svg>\r\n    </div>\r\n\r\n    <div  class=\"z-40 absolute mt-12 ml-2 rounded bg-[#9B3922] w-60\">\r\n      <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n        <li :key=\"index\"  v-for=\"(movie,index) in searchResult\" class=\"flex items-center border-b border-[#481E14] p-1\">\r\n          <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-20 p-1\">\r\n          <span class=\"ml-3\">{{movie.title}}</span>\r\n        </li>\r\n      </ul>\r\n      <ul class=\"px-3 v-else\">\r\n       <li v-if=\"noResultFound\">No result found</li>\r\n      </ul>\r\n    </div>\r\n    \r\n\r\n    <img src=\"@/assets/images/profileimg.png\" alt=\"profile-img\" class=\"h-10 rounded-full ml-5\" />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n\r\n data() {\r\n  return {\r\n    searchResult: [],\r\n    showSearchResult: false\r\n  }\r\n },\r\n\r\n mounted(){\r\n  this.keyboardEvents()\r\n },\r\n\r\n  methods: {\r\n\r\n    handleFocus(){\r\n      if(this.searchTerm != \"\"){\r\n        this.showSearchResult = true\r\n      }\r\n    },\r\n\r\n    keyboardEvents(){\r\n      let windowObj = this\r\n\r\n      window.addEventListener(\"keypress\", (e)=>{\r\n        if(e.keyCode == \"47\"){\r\n          e.preventDefault();\r\n          windowObj.$refs.searchBox.focus()\r\n        }\r\n      })\r\n      window.addEventListener('keydown', (e) => {\r\n        if (e.key == \"Escape\" ) {\r\n          this.showSearchResult = false\r\n        }\r\n      })\r\n    },\r\n\r\n    debounceSearch(event) {\r\n     clearTimeout(this.debounce)\r\n     this.debounce = setTimeout(() => {\r\n       if (event.target.value.length >= 2){\r\n        this.fetchSearch(event.target.value)\r\n      }\r\n       }, 100)\r\n      },\r\n\r\n    async fetchSearch(term){\r\n      try{\r\n      const response = await this.$http.get(\"/search/movie?query=\" + term)\r\n      this.searchResult = response.data.results \r\n      this.showSearchResult = (response.data.results)? true: false \r\n    }\r\n    catch(error){\r\n      console.log(error)\r\n    }\r\n  },\r\n\r\n  posterPath(poster_path) {\r\n    if(poster_path) {\r\n      return `https://image.tmdb.org/t/p/w500` + poster_path\r\n    } else {\r\n      return `https://via.placeholder.com/500x750`\r\n    }\r\n  },\r\n\r\n }\r\n\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>./searchbar.vue./SearchBar.vue"],"mappings":"AAoCA,eAAe;EAEdA,IAAIA,CAAA,EAAG;IACN,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,gBAAgB,EAAE;IACpB;EACD,CAAC;EAEDC,OAAOA,CAAA,EAAE;IACR,IAAI,CAACC,cAAc,CAAC;EACrB,CAAC;EAEAC,OAAO,EAAE;IAEPC,WAAWA,CAAA,EAAE;MACX,IAAG,IAAI,CAACC,UAAS,IAAK,EAAE,EAAC;QACvB,IAAI,CAACL,gBAAe,GAAI,IAAG;MAC7B;IACF,CAAC;IAEDE,cAAcA,CAAA,EAAE;MACd,IAAII,SAAQ,GAAI,IAAG;MAEnBC,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAGC,CAAC,IAAG;QACvC,IAAGA,CAAC,CAACC,OAAM,IAAK,IAAI,EAAC;UACnBD,CAAC,CAACE,cAAc,CAAC,CAAC;UAClBL,SAAS,CAACM,KAAK,CAACC,SAAS,CAACC,KAAK,CAAC;QAClC;MACF,CAAC;MACDP,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAGC,CAAC,IAAK;QACxC,IAAIA,CAAC,CAACM,GAAE,IAAK,QAAO,EAAI;UACtB,IAAI,CAACf,gBAAe,GAAI,KAAI;QAC9B;MACF,CAAC;IACH,CAAC;IAEDgB,cAAcA,CAACC,KAAK,EAAE;MACrBC,YAAY,CAAC,IAAI,CAACC,QAAQ;MAC1B,IAAI,CAACA,QAAO,GAAIC,UAAU,CAAC,MAAM;QAC/B,IAAIH,KAAK,CAACI,MAAM,CAACC,KAAK,CAACC,MAAK,IAAK,CAAC,EAAC;UAClC,IAAI,CAACC,WAAW,CAACP,KAAK,CAACI,MAAM,CAACC,KAAK;QACrC;MACC,CAAC,EAAE,GAAG;IACP,CAAC;IAEH,MAAME,WAAWA,CAACC,IAAI,EAAC;MACrB,IAAG;QACH,MAAMC,QAAO,GAAI,MAAM,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,sBAAqB,GAAIH,IAAI;QACnE,IAAI,CAAC1B,YAAW,GAAI2B,QAAQ,CAAC5B,IAAI,CAAC+B,OAAM;QACxC,IAAI,CAAC7B,gBAAe,GAAK0B,QAAQ,CAAC5B,IAAI,CAAC+B,OAAO,GAAG,IAAI,GAAE,KAAI;MAC7D,EACA,OAAMC,KAAK,EAAC;QACVC,OAAO,CAACC,GAAG,CAACF,KAAK;MACnB;IACF,CAAC;IAEDG,UAAUA,CAACC,WAAW,EAAE;MACtB,IAAGA,WAAW,EAAE;QACd,OAAO,iCAAgC,GAAIA,WAAU;MACvD,OAAO;QACL,OAAO,qCAAoC;MAC7C;IACF;EAED;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}