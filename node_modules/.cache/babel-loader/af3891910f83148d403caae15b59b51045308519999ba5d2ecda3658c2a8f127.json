{"ast":null,"code":"export default {\n  data() {\n    return {\n      searchResult: [],\n      searchTerm: \"\",\n      showSearchResult: false\n    };\n  },\n  mounted() {\n    this.keyboardEvents();\n  },\n  methods: {\n    debounceSearch(event) {\n      clearTimeout(this.debounce);\n      this.debounce = setTimeout(() => {\n        if (event.target.value.length > 3) {\n          this.fetchSearch(event.target.value);\n        } else {\n          this.showSearchResult = false;\n        }\n      }, 600);\n    },\n    async fetchSearch(term) {\n      try {\n        const response = await this.$http.get(\"/search/movie?query=\" + term);\n        this.searchResult = response.data.results;\n        this.showSearchResult = response.data.results ? true : false;\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    handleFocus() {\n      if (this.searchTerm != \"\") {\n        this.showSearchResult = true;\n      }\n    },\n    keyboardEvents() {\n      let windowObj = this;\n      window.addEventListener(\"click\", e => {\n        if (!this.$el.contains(e.target)) {\n          this.showSearchResult = false;\n        }\n      });\n      window.addEventListener(\"keypress\", e => {\n        if (e.keyCode == \"47\") {\n          e.preventDefault();\n          windowObj.$refs.searchBox.focus();\n        }\n      });\n      window.addEventListener(\"keydown\", e => {\n        if (e.key == \"Escape\") {\n          this.showSearchResult = false;\n        }\n      });\n    },\n    posterPath(poster_path) {\n      if (poster_path) {\n        return \"https://image.tmdb.org/t/p/w500/\" + poster_path;\n      } else {\n        return \"https://via.placeholder.com/50x75\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["data","searchResult","searchTerm","showSearchResult","mounted","keyboardEvents","methods","debounceSearch","event","clearTimeout","debounce","setTimeout","target","value","length","fetchSearch","term","response","$http","get","results","error","console","log","handleFocus","windowObj","window","addEventListener","e","$el","contains","keyCode","preventDefault","$refs","searchBox","focus","key","posterPath","poster_path"],"sources":["C:\\Users\\amerb\\movie-tmbd\\src\\components\\header\\AccountDropdown.vue"],"sourcesContent":["<template>\r\n    <div class=\"mt-5 flex relative\">\r\n      <input\r\n        ref=\"searchBox\"\r\n        type=\"text\"\r\n        class=\"rounded-full bg-gray-600 px-7 w-50 h-10 mr-3 focus:outline-none focus:outline-shawod\"\r\n        placeholder=\"Search..\"\r\n        @input=\"debounceSearch\"\r\n        v-model=\"searchTerm\"\r\n        @focus=\"handleFocus\"\r\n      />\r\n      <div class=\"absolute top-0\">\r\n        <svg\r\n          class=\"fill-current w-4 text-gray-300 mt-2 ml-2 mt-3\"\r\n          viewBox=\"0 0 24 24\"\r\n        >\r\n          <path\r\n            class=\"heroicon-ui\"\r\n            d=\"M16.32 14.9l5.39 5.4a1 1 0 01-1.42 1.4l-5.38-5.38a8 8 0 111.41-1.41zM10 16a6 6 0 100-12 6 6 0 000 12z\"\r\n          />\r\n        </svg>\r\n      </div>\r\n  \r\n      <div class=\"absolute mt-12 rounded bg-gray-600 w-60 z-50\">\r\n        <ul class=\"mt-3\" v-if=\"showSearchResult\">\r\n          <li :key=\"index\" v-for=\"(movie, index) in searchResult\">\r\n            <router-link\r\n              :to=\"`/movie/${movie.id}`\"\r\n              @click.native=\"showSearchResult = false\"\r\n              class=\"flex items-center border-b border-gray-500 p-1\"\r\n            >\r\n              <img :src=\"posterPath(movie.poster_path)\" alt=\"\" class=\"w-10\" />\r\n              <span class=\"ml-3\">{{ movie.title }}</span>\r\n            </router-link>\r\n          </li>\r\n        </ul>\r\n        <ul class=\"px-3\" v-if=\"searchResult.length == 0 && showSearchResult\">\r\n          <li>No result found for \"{{ searchTerm }}\"</li>\r\n        </ul>\r\n      </div>\r\n  \r\n      <img src=\"@/assets/images/avatar.jpg\" alt=\"\" class=\"h-10 rounded-full\" />\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  export default {\r\n    data() {\r\n      return {\r\n        searchResult: [],\r\n        searchTerm: \"\",\r\n        showSearchResult: false,\r\n      };\r\n    },\r\n    mounted() {\r\n      this.keyboardEvents();\r\n    },\r\n    methods: {\r\n      debounceSearch(event) {\r\n        clearTimeout(this.debounce);\r\n        this.debounce = setTimeout(() => {\r\n          if (event.target.value.length > 3) {\r\n            this.fetchSearch(event.target.value);\r\n          } else {\r\n            this.showSearchResult = false;\r\n          }\r\n        }, 600);\r\n      },\r\n  \r\n      async fetchSearch(term) {\r\n        try {\r\n          const response = await this.$http.get(\"/search/movie?query=\" + term);\r\n          this.searchResult = response.data.results;\r\n          this.showSearchResult = response.data.results ? true : false;\r\n        } catch (error) {\r\n          console.log(error);\r\n        }\r\n      },\r\n  \r\n      handleFocus() {\r\n        if (this.searchTerm != \"\") {\r\n          this.showSearchResult = true;\r\n        }\r\n      },\r\n      keyboardEvents() {\r\n        let windowObj = this;\r\n  \r\n        window.addEventListener(\"click\", (e) => {\r\n          if (!this.$el.contains(e.target)) {\r\n            this.showSearchResult = false;\r\n          }\r\n        });\r\n  \r\n        window.addEventListener(\"keypress\", (e) => {\r\n          if (e.keyCode == \"47\") {\r\n            e.preventDefault();\r\n            windowObj.$refs.searchBox.focus();\r\n          }\r\n        });\r\n        window.addEventListener(\"keydown\", (e) => {\r\n          if (e.key == \"Escape\") {\r\n            this.showSearchResult = false;\r\n          }\r\n        });\r\n      },\r\n      posterPath(poster_path) {\r\n        if (poster_path) {\r\n          return \"https://image.tmdb.org/t/p/w500/\" + poster_path;\r\n        } else {\r\n          return \"https://via.placeholder.com/50x75\";\r\n        }\r\n      },\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style></style>"],"mappings":"AA8CE,eAAe;EACbA,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,YAAY,EAAE,EAAE;MAChBC,UAAU,EAAE,EAAE;MACdC,gBAAgB,EAAE;IACpB,CAAC;EACH,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,cAAc,CAAC,CAAC;EACvB,CAAC;EACDC,OAAO,EAAE;IACPC,cAAcA,CAACC,KAAK,EAAE;MACpBC,YAAY,CAAC,IAAI,CAACC,QAAQ,CAAC;MAC3B,IAAI,CAACA,QAAO,GAAIC,UAAU,CAAC,MAAM;QAC/B,IAAIH,KAAK,CAACI,MAAM,CAACC,KAAK,CAACC,MAAK,GAAI,CAAC,EAAE;UACjC,IAAI,CAACC,WAAW,CAACP,KAAK,CAACI,MAAM,CAACC,KAAK,CAAC;QACtC,OAAO;UACL,IAAI,CAACV,gBAAe,GAAI,KAAK;QAC/B;MACF,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IAED,MAAMY,WAAWA,CAACC,IAAI,EAAE;MACtB,IAAI;QACF,MAAMC,QAAO,GAAI,MAAM,IAAI,CAACC,KAAK,CAACC,GAAG,CAAC,sBAAqB,GAAIH,IAAI,CAAC;QACpE,IAAI,CAACf,YAAW,GAAIgB,QAAQ,CAACjB,IAAI,CAACoB,OAAO;QACzC,IAAI,CAACjB,gBAAe,GAAIc,QAAQ,CAACjB,IAAI,CAACoB,OAAM,GAAI,IAAG,GAAI,KAAK;MAC9D,EAAE,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB;IACF,CAAC;IAEDG,WAAWA,CAAA,EAAG;MACZ,IAAI,IAAI,CAACtB,UAAS,IAAK,EAAE,EAAE;QACzB,IAAI,CAACC,gBAAe,GAAI,IAAI;MAC9B;IACF,CAAC;IACDE,cAAcA,CAAA,EAAG;MACf,IAAIoB,SAAQ,GAAI,IAAI;MAEpBC,MAAM,CAACC,gBAAgB,CAAC,OAAO,EAAGC,CAAC,IAAK;QACtC,IAAI,CAAC,IAAI,CAACC,GAAG,CAACC,QAAQ,CAACF,CAAC,CAAChB,MAAM,CAAC,EAAE;UAChC,IAAI,CAACT,gBAAe,GAAI,KAAK;QAC/B;MACF,CAAC,CAAC;MAEFuB,MAAM,CAACC,gBAAgB,CAAC,UAAU,EAAGC,CAAC,IAAK;QACzC,IAAIA,CAAC,CAACG,OAAM,IAAK,IAAI,EAAE;UACrBH,CAAC,CAACI,cAAc,CAAC,CAAC;UAClBP,SAAS,CAACQ,KAAK,CAACC,SAAS,CAACC,KAAK,CAAC,CAAC;QACnC;MACF,CAAC,CAAC;MACFT,MAAM,CAACC,gBAAgB,CAAC,SAAS,EAAGC,CAAC,IAAK;QACxC,IAAIA,CAAC,CAACQ,GAAE,IAAK,QAAQ,EAAE;UACrB,IAAI,CAACjC,gBAAe,GAAI,KAAK;QAC/B;MACF,CAAC,CAAC;IACJ,CAAC;IACDkC,UAAUA,CAACC,WAAW,EAAE;MACtB,IAAIA,WAAW,EAAE;QACf,OAAO,kCAAiC,GAAIA,WAAW;MACzD,OAAO;QACL,OAAO,mCAAmC;MAC5C;IACF;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}